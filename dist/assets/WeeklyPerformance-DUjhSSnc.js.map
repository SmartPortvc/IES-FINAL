{"version":3,"file":"WeeklyPerformance-DUjhSSnc.js","sources":["../../src/components/vessel/EditReportModal.tsx","../../src/pages/WeeklyPerformance.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Button from \"../../components/ui/Button\";\nimport FormField from \"../../components/ui/FormField\";\nimport { Calendar, Ship, Package } from \"lucide-react\";\n\ninterface EditReportModalProps {\n  report: any;\n  isOpen: boolean;\n  onClose: () => void;\n  onSave: (updatedReport: any) => void;\n}\n\nconst EditReportModal: React.FC<EditReportModalProps> = ({\n  report,\n  isOpen,\n  onClose,\n  onSave,\n}) => {\n  const [formData, setFormData] = useState<any>(null);\n\n  useEffect(() => {\n    if (report) {\n      setFormData({\n        ...report,\n        departureDate: report.departureDate || \"\",\n        clearanceIssued: report.clearanceIssued || \"\",\n        dailyData: [...(report.dailyData || [])],\n        totalQuantity: report.totalQuantity || \"\",\n        demurragesCollected: report.demurragesCollected || \"\",\n      });\n    }\n  }, [report]);\n\n  if (!isOpen || !formData) return null;\n\n  const handleDailyDataChange = (\n    index: number,\n    field: string,\n    value: string\n  ) => {\n    const newDailyData = [...formData.dailyData];\n    newDailyData[index] = {\n      ...newDailyData[index],\n      [field]: value,\n    };\n    setFormData({ ...formData, dailyData: newDailyData });\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    onSave(formData);\n  };\n\n  return (\n    <div className=\"fixed inset-0 bg-black bg-opacity-50 z-50 flex justify-center items-center\">\n      <div className=\"bg-white rounded-lg p-6 max-w-5xl w-full mx-4 max-h-[90vh] overflow-y-auto\">\n        <div className=\"flex justify-between items-center mb-6\">\n          <div>\n            <h2 className=\"text-xl font-semibold text-gray-900\">\n              Edit Weekly Performance Report\n            </h2>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              Update vessel performance information and daily cargo details\n            </p>\n          </div>\n          <button\n            onClick={onClose}\n            className=\"text-gray-500 hover:text-gray-700 transition-colors\"\n          >\n            <span className=\"sr-only\">Close</span>\n            <svg\n              className=\"h-6 w-6\"\n              fill=\"none\"\n              viewBox=\"0 0 24 24\"\n              stroke=\"currentColor\"\n            >\n              <path\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n                strokeWidth={2}\n                d=\"M6 18L18 6M6 6l12 12\"\n              />\n            </svg>\n          </button>\n        </div>\n\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n            <FormField\n              id=\"departureDate\"\n              label=\"Date of Departure\"\n              icon={<Calendar className=\"h-5 w-5 text-seagreen-500\" />}\n            >\n              <input\n                type=\"date\"\n                id=\"departureDate\"\n                value={formData.departureDate}\n                onChange={(e) =>\n                  setFormData({ ...formData, departureDate: e.target.value })\n                }\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-seagreen-500\"\n              />\n            </FormField>\n            <FormField\n              id=\"clearanceIssued\"\n              label=\"Clearance Issued\"\n              icon={<Calendar className=\"h-5 w-5 text-seagreen-500\" />}\n            >\n              <input\n                type=\"date\"\n                id=\"clearanceIssued\"\n                value={formData.clearanceIssued}\n                onChange={(e) =>\n                  setFormData({ ...formData, clearanceIssued: e.target.value })\n                }\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-seagreen-500\"\n              />\n            </FormField>\n            <FormField\n              id=\"totalQuantity\"\n              label=\"Total Quantity\"\n              icon={<Package className=\"h-5 w-5 text-seagreen-500\" />}\n            >\n              <input\n                type=\"number\"\n                id=\"totalQuantity\"\n                value={formData.totalQuantity}\n                onChange={(e) =>\n                  setFormData({ ...formData, totalQuantity: e.target.value })\n                }\n                className=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-seagreen-500\"\n              />\n            </FormField>\n          </div>\n\n          <div className=\"col-span-2\">\n            <h3 className=\"text-lg font-medium mb-4\">Daily Cargo Details</h3>\n            <div className=\"overflow-x-auto\">\n              <table className=\"min-w-full divide-y divide-gray-200\">\n                <thead className=\"bg-gray-50\">\n                  <tr>\n                    <th className=\"px-4  py-3 text-left text-xs font-medium text-gray-500 uppercase\">\n                      Date\n                    </th>\n                    <th className=\"px-4 w-40 py-3 text-left text-xs font-medium text-gray-500 uppercase\">\n                      Type of Cargo in Detail\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">\n                      Type of Cargo\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">\n                      Quantity\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">\n                      Demarage charges collected from the ship in Rs.\n                    </th>\n                    <th className=\"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase\">\n                      Reason\n                    </th>\n                  </tr>\n                </thead>\n                <tbody className=\"bg-white divide-y divide-gray-200\">\n                  {formData.dailyData?.map((day: any, index: number) => (\n                    <tr key={index}>\n                      <td className=\"px-4 py-2\">\n                        <input\n                          type=\"date\"\n                          value={day.date}\n                          onChange={(e) =>\n                            handleDailyDataChange(index, \"date\", e.target.value)\n                          }\n                          className=\"w-full px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-seagreen-500\"\n                        />\n                      </td>\n                      <td className=\"px-4 py-2\">\n                        <select\n                          value={day.cargoType}\n                          onChange={(e) =>\n                            handleDailyDataChange(\n                              index,\n                              \"cargoType\",\n                              e.target.value\n                            )\n                          }\n                          className=\"w-full px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-seagreen-500\"\n                        >\n                          <option value=\"\">Select Cargo Type</option>\n                          <option value=\"Break Bulk\">Break Bulk</option>\n                          <option value=\"Project\">Project</option>\n                          <option value=\"Liquid Bulk\">Liquid Bulk</option>\n                          <option value=\"Container\">Container</option>\n                          <option value=\"Dry Bulk\">Dry Bulk</option>\n                        </select>\n                      </td>\n                      <td className=\"px-4 py-2\">\n                        <input\n                          type=\"text\"\n                          value={day.typeOfCargo || \"\"}\n                          onChange={(e) =>\n                            handleDailyDataChange(\n                              index,\n                              \"typeOfCargo\",\n                              e.target.value\n                            )\n                          }\n                          className=\"w-full px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-seagreen-500\"\n                          placeholder=\"Enter cargo type\"\n                        />\n                      </td>\n                      <td className=\"px-4 py-2\">\n                        <input\n                          type=\"number\"\n                          value={day.totalQuantity || \"\"}\n                          onChange={(e) =>\n                            handleDailyDataChange(\n                              index,\n                              \"totalQuantity\",\n                              e.target.value\n                            )\n                          }\n                          className=\"w-full px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-seagreen-500\"\n                          placeholder=\"Enter quantity\"\n                        />\n                      </td>\n                      <td className=\"px-4 py-2\">\n                        <input\n                          type=\"number\"\n                          value={day.demurrages || \"\"}\n                          onChange={(e) =>\n                            handleDailyDataChange(\n                              index,\n                              \"demurrages\",\n                              e.target.value\n                            )\n                          }\n                          className=\"w-full px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-seagreen-500\"\n                          placeholder=\"Enter demurrages\"\n                        />\n                      </td>\n                      <td className=\"px-4 py-2\">\n                        <input\n                          type=\"text\"\n                          value={day.reason || \"\"}\n                          onChange={(e) =>\n                            handleDailyDataChange(\n                              index,\n                              \"reason\",\n                              e.target.value\n                            )\n                          }\n                          className=\"w-full px-2 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-seagreen-500\"\n                          placeholder=\"Enter Reason\"\n                        />\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </div>\n          </div>\n\n          <div className=\"flex justify-end space-x-3 pt-4 border-t\">\n            <Button variant=\"outline\" onClick={onClose}>\n              Cancel\n            </Button>\n            <Button\n              type=\"submit\"\n              className=\"bg-seagreen-600 hover:bg-seagreen-700\"\n            >\n              Save Changes\n            </Button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n};\n\nexport default EditReportModal;\n","import React, { useState, useEffect, useMemo } from \"react\";\nimport { Ship, Calendar } from \"lucide-react\";\nimport {\n  fetchWeeklyPerformancesWithPort,\n  fetchUserPortId,\n  updateWeeklyPerformance,\n} from \"../services/api\";\nimport DashboardLayout from \"../components/layout/DashboardLayout\";\nimport Card from \"../components/ui/Card\";\nimport DateRangePicker from \"../components/ui/DateRangePicker\";\nimport LoadingSpinner from \"../components/ui/LoadingSpinner\";\nimport ErrorDisplay from \"../components/ui/ErrorDisplay\";\nimport { exportWeeklySummaryAndReports } from \"../utils/excelExport\";\nimport Button from \"../components/ui/Button\";\nimport { useAuth } from \"../context/AuthContext\";\nimport ViewReportModal from \"../components/vessel/ViewReportModal\";\nimport EditReportModal from \"../components/vessel/EditReportModal\";\n\nconst WeeklyPerformance: React.FC = () => {\n  const { currentUser } = useAuth();\n  const [reports, setReports] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n  const [userPortId, setUserPortId] = useState<string | null>(null);\n  const [fromDate, setFromDate] = useState<string>(\"\");\n  const [toDate, setToDate] = useState<string>(\"\");\n  const [selectedReport, setSelectedReport] = useState<any>(null);\n  const [isViewModalOpen, setIsViewModalOpen] = useState(false);\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n\n  const handleViewReport = (report: any) => {\n    setSelectedReport(report);\n    setIsViewModalOpen(true);\n  };\n\n  const handleEditReport = (report: any) => {\n    setSelectedReport(report);\n    setIsEditModalOpen(true);\n  };\n\n  const handleUpdateReport = async (updatedReport: any) => {\n    try {\n      // Call API to update the report\n      await updateWeeklyPerformance(updatedReport.id, updatedReport);\n\n      // Update local state\n      const newReports = reports.map((report) =>\n        report.id === updatedReport.id ? updatedReport : report\n      );\n      setReports(newReports);\n\n      // Close modal\n      setIsEditModalOpen(false);\n    } catch (err) {\n      setError(\"Failed to update report\");\n    }\n  };\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Get user's port ID\n        const portId = await fetchUserPortId(currentUser?.uid || \"\");\n        if (!portId) {\n          setError(\"User port ID not found\");\n          return;\n        }\n        setUserPortId(portId);\n\n        // Fetch reports\n        const allReports = await fetchWeeklyPerformancesWithPort();\n        // Filter reports for current port\n        const portReports = allReports.filter(\n          (report) => report.portId === portId\n        );\n        setReports(portReports);\n        console.log(\"Fetched reports:\", portReports);\n      } catch (err) {\n        setError(\"Failed to load weekly reports\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, [currentUser]);\n\n  // Filter reports based on date range\n  const filteredReports = useMemo(() => {\n    return reports.filter((report) => {\n      if (!fromDate && !toDate) return true;\n      const createdAt = report.createdAt || report.created_at;\n      const reportDate =\n        createdAt && createdAt.seconds\n          ? new Date(createdAt.seconds * 1000)\n          : null;\n      if (!reportDate) return true;\n\n      const fromDateObj = fromDate ? new Date(fromDate) : null;\n      const toDateObj = toDate ? new Date(toDate) : null;\n\n      if (fromDateObj && toDateObj) {\n        toDateObj.setHours(23, 59, 59, 999);\n        return reportDate >= fromDateObj && reportDate <= toDateObj;\n      } else if (fromDateObj) {\n        return reportDate >= fromDateObj;\n      } else if (toDateObj) {\n        toDateObj.setHours(23, 59, 59, 999);\n        return reportDate <= toDateObj;\n      }\n      return true;\n    });\n  }, [reports, fromDate, toDate]);\n\n  // Summary calculation logic\n  const summary = useMemo(() => {\n    const now = new Date();\n    const lastWeekStart = new Date(now);\n    lastWeekStart.setDate(now.getDate() - 7);\n    lastWeekStart.setHours(0, 0, 0, 0);\n    const lastWeekEnd = new Date(now);\n    lastWeekEnd.setHours(23, 59, 59, 999);\n\n    const isLastWeek = (report: any) => {\n      const createdAt = report.createdAt || report.created_at;\n      if (!createdAt || !createdAt.seconds) return false;\n      const d = new Date(createdAt.seconds * 1000);\n      return d >= lastWeekStart && d <= lastWeekEnd;\n    };\n\n    const totalVesselsLastWeek = filteredReports.filter(isLastWeek).length;\n    const totalBerthedVessels = filteredReports.filter(\n      (r) => r.berthedDate\n    ).length;\n    const totalDepartedVessels = filteredReports.filter(\n      (r) => r.departureDate\n    ).length;\n    const totalVesselsInPort = totalBerthedVessels - totalDepartedVessels;\n    const totalLoading = filteredReports.filter(\n      (r) => r.status === \"Loading\"\n    ).length;\n    const totalUnloading = filteredReports.filter(\n      (r) => r.status === \"Unloading\"\n    ).length;\n    const totalDepartedLastWeek = filteredReports.filter(\n      (r) => Boolean(r.departureDate) && isLastWeek(r)\n    ).length;\n\n    const totalDemurrages = filteredReports.reduce((sum, r) => {\n      const dailyDemurrages =\n        r.dailyData?.reduce(\n          (total: number, day: any) => total + (Number(day.demurrages) || 0),\n          0\n        ) || 0;\n      return sum + dailyDemurrages;\n    }, 0);\n\n    const totalCargoHandled = filteredReports.reduce((sum, r) => {\n      const dailyQuantities =\n        r.dailyData?.reduce(\n          (total: number, day: any) => total + (Number(day.totalQuantity) || 0),\n          0\n        ) || 0;\n      return sum + dailyQuantities;\n    }, 0);\n\n    const bulkCargo = filteredReports.filter(\n      (r) => r.cargoType === \"Bulk\"\n    ).length;\n    const breakBulk = filteredReports.filter(\n      (r) => r.cargoType === \"Break Bulk\"\n    ).length;\n    const container = filteredReports.filter(\n      (r) => r.cargoType === \"Container\"\n    ).length;\n    const projectCargo = filteredReports.filter(\n      (r) => r.cargoType === \"Project\"\n    ).length;\n    const liquidCargo = filteredReports.filter(\n      (r) => r.cargoType === \"Liquid\"\n    ).length;\n\n    return [\n      {\n        description: \"Total number of vessels called in the last week\",\n        total: totalVesselsLastWeek,\n      },\n      {\n        description: \"Total number of vessels in the port as on date\",\n        total: totalVesselsInPort,\n      },\n      {\n        description: \"Total number of vessels loading in the port as on date\",\n        total: totalLoading,\n      },\n      {\n        description: \"Total number of vessels Unloading in the port as on date\",\n        total: totalUnloading,\n      },\n      {\n        description: \"Total vessels departed last week\",\n        total: totalDepartedLastWeek,\n      },\n      {\n        description: \"Demurrages collected (if any) from the ships by the port\",\n        total: totalDemurrages,\n      },\n      {\n        description:\n          \"Total cargo handled since the start of the financial year\",\n        total: totalCargoHandled,\n      },\n      {\n        description: \"Cargo handled in the last week\",\n        total: filteredReports.filter(isLastWeek).reduce((sum, r) => {\n          const dailyQuantities =\n            r.dailyData?.reduce(\n              (total: number, day: any) =>\n                total + (Number(day.totalQuantity) || 0),\n              0\n            ) || 0;\n          return sum + dailyQuantities;\n        }, 0),\n      },\n      { description: \"Bulk cargo\", total: bulkCargo },\n      { description: \"Break Bulk\", total: breakBulk },\n      { description: \"Container (in TEU & MMT)\", total: container },\n      { description: \"Project cargo\", total: projectCargo },\n      { description: \"Liquid cargo\", total: liquidCargo },\n    ];\n  }, [filteredReports]);\n\n  const handleExportAll = () => {\n    const loadingUnloadingReports = filteredReports.filter(\n      (report) =>\n        report.purposeOfArrival.toLowerCase() === \"loading\" ||\n        report.purposeOfArrival.toLowerCase() === \"unloading\"\n    );\n    exportWeeklySummaryAndReports(summary, loadingUnloadingReports);\n  };\n\n  if (loading) {\n    return (\n      <DashboardLayout title=\"Weekly Reports\">\n        <LoadingSpinner message=\"Loading weekly reports...\" />\n      </DashboardLayout>\n    );\n  }\n\n  if (error) {\n    return (\n      <DashboardLayout title=\"Weekly Reports\">\n        <ErrorDisplay message={error} />\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <DashboardLayout\n      title=\"Weekly Reports\"\n      subtitle=\"View and manage your port's weekly vessel performance reports\"\n      icon={<Ship className=\"h-6 w-6 text-seagreen-600\" />}\n    >\n      <Card\n        title=\"Filters\"\n        icon={<Calendar className=\"h-6 w-6 text-seagreen-600\" />}\n        className=\"mb-6\"\n      >\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n          <div className=\"md:col-span-2\">\n            <DateRangePicker\n              fromDate={fromDate}\n              toDate={toDate}\n              onFromDateChange={setFromDate}\n              onToDateChange={setToDate}\n              fromLabel=\"From Report Date\"\n              toLabel=\"To Report Date\"\n            />\n          </div>\n        </div>\n\n        {(fromDate || toDate) && (\n          <div className=\"mt-4 flex items-center justify-between bg-seagreen-50 p-3 rounded-lg\">\n            <p className=\"text-sm text-seagreen-700\">\n              Showing {filteredReports.length} reports\n              {fromDate && toDate\n                ? ` between ${new Date(\n                    fromDate\n                  ).toLocaleDateString()} and ${new Date(\n                    toDate\n                  ).toLocaleDateString()}`\n                : fromDate\n                ? ` from ${new Date(fromDate).toLocaleDateString()}`\n                : toDate\n                ? ` until ${new Date(toDate).toLocaleDateString()}`\n                : \"\"}\n            </p>\n            <button\n              onClick={() => {\n                setFromDate(\"\");\n                setToDate(\"\");\n              }}\n              className=\"text-sm text-seagreen-600 hover:text-seagreen-800 font-medium\"\n            >\n              Clear Filters\n            </button>\n          </div>\n        )}\n      </Card>\n\n      <Card\n        title=\"Weekly Performance Reports\"\n        icon={<Ship className=\"h-6 w-6 text-seagreen-600\" />}\n      >\n        <div className=\"w-full flex items-center mb-4\">\n          <Button\n            variant=\"outline\"\n            onClick={handleExportAll}\n            className=\"ml-auto\"\n            icon={\n              <svg\n                xmlns=\"http://www.w3.org/2000/svg\"\n                width=\"16\"\n                height=\"16\"\n                viewBox=\"0 0 24 24\"\n                fill=\"none\"\n                stroke=\"currentColor\"\n                strokeWidth=\"2\"\n                strokeLinecap=\"round\"\n                strokeLinejoin=\"round\"\n              >\n                <path d=\"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4\"></path>\n                <polyline points=\"7 10 12 15 17 10\"></polyline>\n                <line x1=\"12\" y1=\"15\" x2=\"12\" y2=\"3\"></line>\n              </svg>\n            }\n          >\n            Export All\n          </Button>\n        </div>\n        {filteredReports.length === 0 ? (\n          <div className=\"bg-gray-50 border border-gray-200 text-gray-700 px-4 py-8 rounded text-center\">\n            <Ship className=\"h-12 w-12 mx-auto mb-3 text-gray-400\" />\n            <h3 className=\"text-lg font-medium\">No weekly reports found</h3>\n            <p className=\"mt-2 text-gray-500\">\n              No weekly performance reports have been added yet\n            </p>\n          </div>\n        ) : (\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50 w-full\">\n                <tr>\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Vessel Name\n                  </th>\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Agent Name\n                  </th>\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Owner Details\n                  </th>\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Purpose\n                  </th>\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Status\n                  </th>\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    DWT\n                  </th>\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    LOA\n                  </th>\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Berthed Date\n                  </th>\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Departure Date\n                  </th>\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Clearance Status\n                  </th>\n                  <th className=\"px-3 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Actions\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {filteredReports.map((report) => (\n                  <tr key={report.id} className=\"hover:bg-gray-50\">\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {report.vesselName || \"N/A\"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {report.agentName || \"N/A\"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {report.ownerDetails || \"N/A\"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {report.purposeOfArrival || \"N/A\"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {report.status || \"N/A\"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {report.dwt || \"N/A\"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {report.loa || \"N/A\"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {report.berthedDate || \"N/A\"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {report.departureDate || \"N/A\"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap\">\n                      {report.clearanceIssued || \"N/A\"}\n                    </td>\n                    <td className=\"px-6 py-4 whitespace-nowrap space-x-2\">\n                      <Button\n                        variant=\"outline\"\n                        onClick={() => handleViewReport(report)}\n                        className=\"mr-2\"\n                      >\n                        View\n                      </Button>\n                      <Button\n                        variant=\"outline\"\n                        onClick={() => handleEditReport(report)}\n                      >\n                        Edit\n                      </Button>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        )}\n      </Card>\n\n      {/* View Modal */}\n      <ViewReportModal\n        report={selectedReport}\n        isOpen={isViewModalOpen}\n        onClose={() => setIsViewModalOpen(false)}\n      />\n\n      {/* Edit Modal */}\n      <EditReportModal\n        report={selectedReport}\n        isOpen={isEditModalOpen}\n        onClose={() => setIsEditModalOpen(false)}\n        onSave={handleUpdateReport}\n      />\n    </DashboardLayout>\n  );\n};\n\nexport default WeeklyPerformance;\n"],"names":["EditReportModal","report","isOpen","onClose","onSave","formData","setFormData","useState","useEffect","handleDailyDataChange","index","field","value","newDailyData","handleSubmit","e","jsxs","jsx","FormField","Calendar","Package","_a","day","Button","WeeklyPerformance","currentUser","useAuth","reports","setReports","loading","setLoading","error","setError","userPortId","setUserPortId","fromDate","setFromDate","toDate","setToDate","selectedReport","setSelectedReport","isViewModalOpen","setIsViewModalOpen","isEditModalOpen","setIsEditModalOpen","handleViewReport","handleEditReport","handleUpdateReport","updatedReport","updateWeeklyPerformance","newReports","portId","fetchUserPortId","portReports","fetchWeeklyPerformancesWithPort","filteredReports","useMemo","createdAt","reportDate","fromDateObj","toDateObj","summary","now","lastWeekStart","lastWeekEnd","isLastWeek","d","totalVesselsLastWeek","totalBerthedVessels","r","totalDepartedVessels","totalVesselsInPort","totalLoading","totalUnloading","totalDepartedLastWeek","totalDemurrages","sum","dailyDemurrages","total","totalCargoHandled","dailyQuantities","bulkCargo","breakBulk","container","projectCargo","liquidCargo","handleExportAll","loadingUnloadingReports","exportWeeklySummaryAndReports","DashboardLayout","LoadingSpinner","ErrorDisplay","Ship","Card","DateRangePicker","ViewReportModal"],"mappings":"ybAYA,MAAMA,GAAkD,CAAC,CACvD,OAAAC,EACA,OAAAC,EACA,QAAAC,EACA,OAAAC,CACF,IAAM,OACJ,KAAM,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAAc,IAAI,EAelD,GAbAC,EAAAA,UAAU,IAAM,CACVP,GACFK,EAAY,CACV,GAAGL,EACH,cAAeA,EAAO,eAAiB,GACvC,gBAAiBA,EAAO,iBAAmB,GAC3C,UAAW,CAAC,GAAIA,EAAO,WAAa,CAAA,CAAG,EACvC,cAAeA,EAAO,eAAiB,GACvC,oBAAqBA,EAAO,qBAAuB,EAAA,CACpD,CAEL,EAAG,CAACA,CAAM,CAAC,EAEP,CAACC,GAAU,CAACG,EAAU,OAAO,KAEjC,MAAMI,EAAwB,CAC5BC,EACAC,EACAC,IACG,CACH,MAAMC,EAAe,CAAC,GAAGR,EAAS,SAAS,EAC3CQ,EAAaH,CAAK,EAAI,CACpB,GAAGG,EAAaH,CAAK,EACrB,CAACC,CAAK,EAAGC,CAAA,EAEXN,EAAY,CAAE,GAAGD,EAAU,UAAWQ,EAAc,CACtD,EAEMC,EAAgBC,GAAuB,CAC3CA,EAAE,eAAA,EACFX,EAAOC,CAAQ,CACjB,EAEA,aACG,MAAA,CAAI,UAAU,6EACb,SAAAW,EAAAA,KAAC,MAAA,CAAI,UAAU,6EACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,sCAAsC,SAAA,iCAEpD,EACAA,EAAAA,IAAC,IAAA,CAAE,UAAU,6BAA6B,SAAA,+DAAA,CAE1C,CAAA,EACF,EACAD,EAAAA,KAAC,SAAA,CACC,QAASb,EACT,UAAU,sDAEV,SAAA,CAAAc,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAU,SAAA,QAAK,EAC/BA,EAAAA,IAAC,MAAA,CACC,UAAU,UACV,KAAK,OACL,QAAQ,YACR,OAAO,eAEP,SAAAA,EAAAA,IAAC,OAAA,CACC,cAAc,QACd,eAAe,QACf,YAAa,EACb,EAAE,sBAAA,CAAA,CACJ,CAAA,CACF,CAAA,CAAA,CACF,EACF,EAEAD,EAAAA,KAAC,OAAA,CAAK,SAAUF,EAAc,UAAU,YACtC,SAAA,CAAAE,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CACC,GAAG,gBACH,MAAM,oBACN,KAAMD,EAAAA,IAACE,EAAA,CAAS,UAAU,2BAAA,CAA4B,EAEtD,SAAAF,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,gBACH,MAAOZ,EAAS,cAChB,SAAWU,GACTT,EAAY,CAAE,GAAGD,EAAU,cAAeU,EAAE,OAAO,MAAO,EAE5D,UAAU,kHAAA,CAAA,CACZ,CAAA,EAEFE,EAAAA,IAACC,EAAA,CACC,GAAG,kBACH,MAAM,mBACN,KAAMD,EAAAA,IAACE,EAAA,CAAS,UAAU,2BAAA,CAA4B,EAEtD,SAAAF,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,GAAG,kBACH,MAAOZ,EAAS,gBAChB,SAAWU,GACTT,EAAY,CAAE,GAAGD,EAAU,gBAAiBU,EAAE,OAAO,MAAO,EAE9D,UAAU,kHAAA,CAAA,CACZ,CAAA,EAEFE,EAAAA,IAACC,EAAA,CACC,GAAG,gBACH,MAAM,iBACN,KAAMD,EAAAA,IAACG,GAAA,CAAQ,UAAU,2BAAA,CAA4B,EAErD,SAAAH,EAAAA,IAAC,QAAA,CACC,KAAK,SACL,GAAG,gBACH,MAAOZ,EAAS,cAChB,SAAWU,GACTT,EAAY,CAAE,GAAGD,EAAU,cAAeU,EAAE,OAAO,MAAO,EAE5D,UAAU,kHAAA,CAAA,CACZ,CAAA,CACF,EACF,EAEAC,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,2BAA2B,SAAA,sBAAmB,QAC3D,MAAA,CAAI,UAAU,kBACb,SAAAD,EAAAA,KAAC,QAAA,CAAM,UAAU,sCACf,SAAA,CAAAC,MAAC,QAAA,CAAM,UAAU,aACf,SAAAD,EAAAA,KAAC,KAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,mEAAmE,SAAA,OAEjF,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,uEAAuE,SAAA,0BAErF,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,kEAAkE,SAAA,gBAEhF,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,kEAAkE,SAAA,WAEhF,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,kEAAkE,SAAA,kDAEhF,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,kEAAkE,SAAA,QAAA,CAEhF,CAAA,CAAA,CACF,CAAA,CACF,EACAA,EAAAA,IAAC,QAAA,CAAM,UAAU,oCACd,UAAAI,EAAAhB,EAAS,YAAT,YAAAgB,EAAoB,IAAI,CAACC,EAAUZ,IAClCM,EAAAA,KAAC,KAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,YACZ,SAAAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOK,EAAI,KACX,SAAWP,GACTN,EAAsBC,EAAO,OAAQK,EAAE,OAAO,KAAK,EAErD,UAAU,4GAAA,CAAA,EAEd,EACAE,EAAAA,IAAC,KAAA,CAAG,UAAU,YACZ,SAAAD,EAAAA,KAAC,SAAA,CACC,MAAOM,EAAI,UACX,SAAWP,GACTN,EACEC,EACA,YACAK,EAAE,OAAO,KAAA,EAGb,UAAU,6GAEV,SAAA,CAAAE,EAAAA,IAAC,SAAA,CAAO,MAAM,GAAG,SAAA,oBAAiB,EAClCA,EAAAA,IAAC,SAAA,CAAO,MAAM,aAAa,SAAA,aAAU,EACrCA,EAAAA,IAAC,SAAA,CAAO,MAAM,UAAU,SAAA,UAAO,EAC/BA,EAAAA,IAAC,SAAA,CAAO,MAAM,cAAc,SAAA,cAAW,EACvCA,EAAAA,IAAC,SAAA,CAAO,MAAM,YAAY,SAAA,YAAS,EACnCA,EAAAA,IAAC,SAAA,CAAO,MAAM,WAAW,SAAA,UAAA,CAAQ,CAAA,CAAA,CAAA,EAErC,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,YACZ,SAAAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOK,EAAI,aAAe,GAC1B,SAAWP,GACTN,EACEC,EACA,cACAK,EAAE,OAAO,KAAA,EAGb,UAAU,6GACV,YAAY,kBAAA,CAAA,EAEhB,EACAE,EAAAA,IAAC,KAAA,CAAG,UAAU,YACZ,SAAAA,EAAAA,IAAC,QAAA,CACC,KAAK,SACL,MAAOK,EAAI,eAAiB,GAC5B,SAAWP,GACTN,EACEC,EACA,gBACAK,EAAE,OAAO,KAAA,EAGb,UAAU,6GACV,YAAY,gBAAA,CAAA,EAEhB,EACAE,EAAAA,IAAC,KAAA,CAAG,UAAU,YACZ,SAAAA,EAAAA,IAAC,QAAA,CACC,KAAK,SACL,MAAOK,EAAI,YAAc,GACzB,SAAWP,GACTN,EACEC,EACA,aACAK,EAAE,OAAO,KAAA,EAGb,UAAU,6GACV,YAAY,kBAAA,CAAA,EAEhB,EACAE,EAAAA,IAAC,KAAA,CAAG,UAAU,YACZ,SAAAA,EAAAA,IAAC,QAAA,CACC,KAAK,OACL,MAAOK,EAAI,QAAU,GACrB,SAAWP,GACTN,EACEC,EACA,SACAK,EAAE,OAAO,KAAA,EAGb,UAAU,6GACV,YAAY,cAAA,CAAA,CACd,CACF,CAAA,CAAA,EA1FOL,CA2FT,EACD,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAEAM,EAAAA,KAAC,MAAA,CAAI,UAAU,2CACb,SAAA,CAAAC,MAACM,EAAA,CAAO,QAAQ,UAAU,QAASpB,EAAS,SAAA,SAE5C,EACAc,EAAAA,IAACM,EAAA,CACC,KAAK,SACL,UAAU,wCACX,SAAA,cAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ,EClQMC,GAA8B,IAAM,CACxC,KAAM,CAAE,YAAAC,CAAA,EAAgBC,GAAA,EAClB,CAACC,EAASC,CAAU,EAAIrB,EAAAA,SAAgB,CAAA,CAAE,EAC1C,CAACsB,EAASC,CAAU,EAAIvB,EAAAA,SAAS,EAAI,EACrC,CAACwB,EAAOC,CAAQ,EAAIzB,EAAAA,SAAwB,IAAI,EAChD,CAAC0B,EAAYC,CAAa,EAAI3B,EAAAA,SAAwB,IAAI,EAC1D,CAAC4B,EAAUC,CAAW,EAAI7B,EAAAA,SAAiB,EAAE,EAC7C,CAAC8B,EAAQC,CAAS,EAAI/B,EAAAA,SAAiB,EAAE,EACzC,CAACgC,EAAgBC,CAAiB,EAAIjC,EAAAA,SAAc,IAAI,EACxD,CAACkC,EAAiBC,CAAkB,EAAInC,EAAAA,SAAS,EAAK,EACtD,CAACoC,EAAiBC,CAAkB,EAAIrC,EAAAA,SAAS,EAAK,EAEtDsC,EAAoB5C,GAAgB,CACxCuC,EAAkBvC,CAAM,EACxByC,EAAmB,EAAI,CACzB,EAEMI,EAAoB7C,GAAgB,CACxCuC,EAAkBvC,CAAM,EACxB2C,EAAmB,EAAI,CACzB,EAEMG,EAAqB,MAAOC,GAAuB,CACvD,GAAI,CAEF,MAAMC,GAAwBD,EAAc,GAAIA,CAAa,EAG7D,MAAME,EAAavB,EAAQ,IAAK1B,GAC9BA,EAAO,KAAO+C,EAAc,GAAKA,EAAgB/C,CAAA,EAEnD2B,EAAWsB,CAAU,EAGrBN,EAAmB,EAAK,CAC1B,MAAc,CACZZ,EAAS,yBAAyB,CACpC,CACF,EAEAxB,EAAAA,UAAU,IAAM,EACI,SAAY,CAC5B,GAAI,CACFsB,EAAW,EAAI,EACfE,EAAS,IAAI,EAGb,MAAMmB,EAAS,MAAMC,IAAgB3B,GAAA,YAAAA,EAAa,MAAO,EAAE,EAC3D,GAAI,CAAC0B,EAAQ,CACXnB,EAAS,wBAAwB,EACjC,MACF,CACAE,EAAciB,CAAM,EAKpB,MAAME,GAFa,MAAMC,GAAA,GAEM,OAC5BrD,GAAWA,EAAO,SAAWkD,CAAA,EAEhCvB,EAAWyB,CAAW,EACtB,QAAQ,IAAI,mBAAoBA,CAAW,CAC7C,MAAc,CACZrB,EAAS,+BAA+B,CAC1C,QAAA,CACEF,EAAW,EAAK,CAClB,CACF,GACA,CACF,EAAG,CAACL,CAAW,CAAC,EAGhB,MAAM8B,EAAkBC,EAAAA,QAAQ,IACvB7B,EAAQ,OAAQ1B,GAAW,CAChC,GAAI,CAACkC,GAAY,CAACE,EAAQ,MAAO,GACjC,MAAMoB,EAAYxD,EAAO,WAAaA,EAAO,WACvCyD,EACJD,GAAaA,EAAU,QACnB,IAAI,KAAKA,EAAU,QAAU,GAAI,EACjC,KACN,GAAI,CAACC,EAAY,MAAO,GAExB,MAAMC,EAAcxB,EAAW,IAAI,KAAKA,CAAQ,EAAI,KAC9CyB,EAAYvB,EAAS,IAAI,KAAKA,CAAM,EAAI,KAE9C,OAAIsB,GAAeC,GACjBA,EAAU,SAAS,GAAI,GAAI,GAAI,GAAG,EAC3BF,GAAcC,GAAeD,GAAcE,GACzCD,EACFD,GAAcC,EACZC,GACTA,EAAU,SAAS,GAAI,GAAI,GAAI,GAAG,EAC3BF,GAAcE,GAEhB,EACT,CAAC,EACA,CAACjC,EAASQ,EAAUE,CAAM,CAAC,EAGxBwB,EAAUL,EAAAA,QAAQ,IAAM,CAC5B,MAAMM,MAAU,KACVC,EAAgB,IAAI,KAAKD,CAAG,EAClCC,EAAc,QAAQD,EAAI,QAAA,EAAY,CAAC,EACvCC,EAAc,SAAS,EAAG,EAAG,EAAG,CAAC,EACjC,MAAMC,EAAc,IAAI,KAAKF,CAAG,EAChCE,EAAY,SAAS,GAAI,GAAI,GAAI,GAAG,EAEpC,MAAMC,EAAchE,GAAgB,CAClC,MAAMwD,EAAYxD,EAAO,WAAaA,EAAO,WAC7C,GAAI,CAACwD,GAAa,CAACA,EAAU,QAAS,MAAO,GAC7C,MAAMS,EAAI,IAAI,KAAKT,EAAU,QAAU,GAAI,EAC3C,OAAOS,GAAKH,GAAiBG,GAAKF,CACpC,EAEMG,EAAuBZ,EAAgB,OAAOU,CAAU,EAAE,OAC1DG,EAAsBb,EAAgB,OACzCc,GAAMA,EAAE,WAAA,EACT,OACIC,EAAuBf,EAAgB,OAC1Cc,GAAMA,EAAE,aAAA,EACT,OACIE,EAAqBH,EAAsBE,EAC3CE,EAAejB,EAAgB,OAClCc,GAAMA,EAAE,SAAW,SAAA,EACpB,OACII,EAAiBlB,EAAgB,OACpCc,GAAMA,EAAE,SAAW,WAAA,EACpB,OACIK,EAAwBnB,EAAgB,OAC3Cc,GAAM,EAAQA,EAAE,eAAkBJ,EAAWI,CAAC,CAAA,EAC/C,OAEIM,EAAkBpB,EAAgB,OAAO,CAACqB,EAAKP,IAAM,OACzD,MAAMQ,IACJxD,EAAAgD,EAAE,YAAF,YAAAhD,EAAa,OACX,CAACyD,EAAexD,IAAawD,GAAS,OAAOxD,EAAI,UAAU,GAAK,GAChE,KACG,EACP,OAAOsD,EAAMC,CACf,EAAG,CAAC,EAEEE,EAAoBxB,EAAgB,OAAO,CAACqB,EAAKP,IAAM,OAC3D,MAAMW,IACJ3D,EAAAgD,EAAE,YAAF,YAAAhD,EAAa,OACX,CAACyD,EAAexD,IAAawD,GAAS,OAAOxD,EAAI,aAAa,GAAK,GACnE,KACG,EACP,OAAOsD,EAAMI,CACf,EAAG,CAAC,EAEEC,EAAY1B,EAAgB,OAC/Bc,GAAMA,EAAE,YAAc,MAAA,EACvB,OACIa,EAAY3B,EAAgB,OAC/Bc,GAAMA,EAAE,YAAc,YAAA,EACvB,OACIc,GAAY5B,EAAgB,OAC/Bc,GAAMA,EAAE,YAAc,WAAA,EACvB,OACIe,GAAe7B,EAAgB,OAClCc,GAAMA,EAAE,YAAc,SAAA,EACvB,OACIgB,GAAc9B,EAAgB,OACjCc,GAAMA,EAAE,YAAc,QAAA,EACvB,OAEF,MAAO,CACL,CACE,YAAa,kDACb,MAAOF,CAAA,EAET,CACE,YAAa,iDACb,MAAOI,CAAA,EAET,CACE,YAAa,yDACb,MAAOC,CAAA,EAET,CACE,YAAa,2DACb,MAAOC,CAAA,EAET,CACE,YAAa,mCACb,MAAOC,CAAA,EAET,CACE,YAAa,2DACb,MAAOC,CAAA,EAET,CACE,YACE,4DACF,MAAOI,CAAA,EAET,CACE,YAAa,iCACb,MAAOxB,EAAgB,OAAOU,CAAU,EAAE,OAAO,CAACW,EAAKP,IAAM,OAC3D,MAAMW,IACJ3D,EAAAgD,EAAE,YAAF,YAAAhD,EAAa,OACX,CAACyD,EAAexD,IACdwD,GAAS,OAAOxD,EAAI,aAAa,GAAK,GACxC,KACG,EACP,OAAOsD,EAAMI,CACf,EAAG,CAAC,CAAA,EAEN,CAAE,YAAa,aAAc,MAAOC,CAAA,EACpC,CAAE,YAAa,aAAc,MAAOC,CAAA,EACpC,CAAE,YAAa,2BAA4B,MAAOC,EAAA,EAClD,CAAE,YAAa,gBAAiB,MAAOC,EAAA,EACvC,CAAE,YAAa,eAAgB,MAAOC,EAAA,CAAY,CAEtD,EAAG,CAAC9B,CAAe,CAAC,EAEd+B,EAAkB,IAAM,CAC5B,MAAMC,EAA0BhC,EAAgB,OAC7CtD,GACCA,EAAO,iBAAiB,YAAA,IAAkB,WAC1CA,EAAO,iBAAiB,gBAAkB,WAAA,EAE9CuF,GAA8B3B,EAAS0B,CAAuB,CAChE,EAEA,OAAI1D,EAEAZ,MAACwE,GAAgB,MAAM,iBACrB,eAACC,GAAA,CAAe,QAAQ,4BAA4B,CAAA,CACtD,EAIA3D,EAEAd,MAACwE,GAAgB,MAAM,iBACrB,eAACE,GAAA,CAAa,QAAS5D,EAAO,CAAA,CAChC,EAKFf,EAAAA,KAACyE,EAAA,CACC,MAAM,iBACN,SAAS,gEACT,KAAMxE,EAAAA,IAAC2E,EAAA,CAAK,UAAU,2BAAA,CAA4B,EAElD,SAAA,CAAA5E,EAAAA,KAAC6E,EAAA,CACC,MAAM,UACN,KAAM5E,EAAAA,IAACE,EAAA,CAAS,UAAU,2BAAA,CAA4B,EACtD,UAAU,OAEV,SAAA,CAAAF,EAAAA,IAAC,OAAI,UAAU,wCACb,SAAAA,MAAC,MAAA,CAAI,UAAU,gBACb,SAAAA,EAAAA,IAAC6E,GAAA,CACC,SAAA3D,EACA,OAAAE,EACA,iBAAkBD,EAClB,eAAgBE,EAChB,UAAU,mBACV,QAAQ,gBAAA,CAAA,EAEZ,CAAA,CACF,GAEEH,GAAYE,IACZrB,EAAAA,KAAC,MAAA,CAAI,UAAU,uEACb,SAAA,CAAAA,EAAAA,KAAC,IAAA,CAAE,UAAU,4BAA4B,SAAA,CAAA,WAC9BuC,EAAgB,OAAO,WAC/BpB,GAAYE,EACT,YAAY,IAAI,KACdF,CAAA,EACA,mBAAA,CAAoB,QAAQ,IAAI,KAChCE,CAAA,EACA,oBAAoB,GACtBF,EACA,SAAS,IAAI,KAAKA,CAAQ,EAAE,oBAAoB,GAChDE,EACA,UAAU,IAAI,KAAKA,CAAM,EAAE,mBAAA,CAAoB,GAC/C,EAAA,EACN,EACApB,EAAAA,IAAC,SAAA,CACC,QAAS,IAAM,CACbmB,EAAY,EAAE,EACdE,EAAU,EAAE,CACd,EACA,UAAU,gEACX,SAAA,eAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CAAA,EAIJtB,EAAAA,KAAC6E,EAAA,CACC,MAAM,6BACN,KAAM5E,EAAAA,IAAC2E,EAAA,CAAK,UAAU,2BAAA,CAA4B,EAElD,SAAA,CAAA3E,EAAAA,IAAC,MAAA,CAAI,UAAU,gCACb,SAAAA,EAAAA,IAACM,EAAA,CACC,QAAQ,UACR,QAAS+D,EACT,UAAU,UACV,KACEtE,EAAAA,KAAC,MAAA,CACC,MAAM,6BACN,MAAM,KACN,OAAO,KACP,QAAQ,YACR,KAAK,OACL,OAAO,eACP,YAAY,IACZ,cAAc,QACd,eAAe,QAEf,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,EAAE,2CAAA,CAA4C,EACpDA,EAAAA,IAAC,WAAA,CAAS,OAAO,kBAAA,CAAmB,EACpCA,EAAAA,IAAC,QAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,GAAA,CAAI,CAAA,CAAA,CAAA,EAG1C,SAAA,YAAA,CAAA,EAGH,EACCsC,EAAgB,SAAW,EAC1BvC,EAAAA,KAAC,MAAA,CAAI,UAAU,gFACb,SAAA,CAAAC,EAAAA,IAAC2E,EAAA,CAAK,UAAU,sCAAA,CAAuC,EACvD3E,EAAAA,IAAC,KAAA,CAAG,UAAU,sBAAsB,SAAA,0BAAuB,EAC3DA,EAAAA,IAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,mDAAA,CAElC,CAAA,CAAA,CACF,QAEC,MAAA,CAAI,UAAU,kBACb,SAAAD,EAAAA,KAAC,QAAA,CAAM,UAAU,sCACf,SAAA,CAAAC,MAAC,QAAA,CAAM,UAAU,oBACf,SAAAD,EAAAA,KAAC,KAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,cAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,aAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,gBAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,UAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,SAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,MAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,MAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,eAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,iBAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,mBAE/F,EACAA,EAAAA,IAAC,KAAA,CAAG,UAAU,iFAAiF,SAAA,SAAA,CAE/F,CAAA,CAAA,CACF,CAAA,CACF,EACAA,EAAAA,IAAC,QAAA,CAAM,UAAU,oCACd,SAAAsC,EAAgB,IAAKtD,GACpBe,EAAAA,KAAC,KAAA,CAAmB,UAAU,mBAC5B,SAAA,CAAAC,MAAC,KAAA,CAAG,UAAU,8BACX,SAAAhB,EAAO,YAAc,MACxB,QACC,KAAA,CAAG,UAAU,8BACX,SAAAA,EAAO,WAAa,MACvB,QACC,KAAA,CAAG,UAAU,8BACX,SAAAA,EAAO,cAAgB,MAC1B,QACC,KAAA,CAAG,UAAU,8BACX,SAAAA,EAAO,kBAAoB,MAC9B,QACC,KAAA,CAAG,UAAU,8BACX,SAAAA,EAAO,QAAU,MACpB,QACC,KAAA,CAAG,UAAU,8BACX,SAAAA,EAAO,KAAO,MACjB,QACC,KAAA,CAAG,UAAU,8BACX,SAAAA,EAAO,KAAO,MACjB,QACC,KAAA,CAAG,UAAU,8BACX,SAAAA,EAAO,aAAe,MACzB,QACC,KAAA,CAAG,UAAU,8BACX,SAAAA,EAAO,eAAiB,MAC3B,QACC,KAAA,CAAG,UAAU,8BACX,SAAAA,EAAO,iBAAmB,MAC7B,EACAe,EAAAA,KAAC,KAAA,CAAG,UAAU,wCACZ,SAAA,CAAAC,EAAAA,IAACM,EAAA,CACC,QAAQ,UACR,QAAS,IAAMsB,EAAiB5C,CAAM,EACtC,UAAU,OACX,SAAA,MAAA,CAAA,EAGDgB,EAAAA,IAACM,EAAA,CACC,QAAQ,UACR,QAAS,IAAMuB,EAAiB7C,CAAM,EACvC,SAAA,MAAA,CAAA,CAED,CAAA,CACF,CAAA,GA7COA,EAAO,EA8ChB,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CAAA,EAKJgB,EAAAA,IAAC8E,GAAA,CACC,OAAQxD,EACR,OAAQE,EACR,QAAS,IAAMC,EAAmB,EAAK,CAAA,CAAA,EAIzCzB,EAAAA,IAACjB,GAAA,CACC,OAAQuC,EACR,OAAQI,EACR,QAAS,IAAMC,EAAmB,EAAK,EACvC,OAAQG,CAAA,CAAA,CACV,CAAA,CAAA,CAGN"}