import{j as e,B as N}from"./index-D2y675Iz.js";import{r as d}from"./vendor-Cjg16i2H.js";import{s as u,A as y,f as v,t as w,C as D,g as C,u as F,B as t}from"./ui-D_zlxExx.js";const A=({onUpload:p,documents:a,onDelete:n,readOnly:i=!1})=>{const[o,c]=d.useState(!1),[m,x]=d.useState(""),l=d.useRef(null),h=async s=>{var g;const r=(g=s.target.files)==null?void 0:g[0];if(!r)return;if(r.size>5*1024*1024){t.error("File size must be less than 5MB");return}if(!["application/pdf","image/jpeg","image/png","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document"].includes(r.type)){t.error("Invalid file type. Please upload PDF, JPEG, PNG, or DOC files.");return}try{c(!0),await p(r,m),x(""),l.current&&(l.current.value=""),t.success("Document uploaded successfully")}catch(b){console.error("Error uploading document:",b),t.error("Failed to upload document")}finally{c(!1)}},f=async s=>{if(n)try{await n(s),t.success("Document deleted successfully")}catch(r){console.error("Error deleting document:",r),t.error("Failed to delete document")}},j=s=>{if(!s)return"N/A";const r=s.toDate?s.toDate():new Date(s);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(r)};return e.jsxs("div",{className:"space-y-6",children:[!i&&e.jsxs("div",{className:"bg-gradient-to-br from-seagreen-50 to-emerald-50 rounded-xl p-6 border-2 border-dashed border-seagreen-300",children:[e.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[e.jsx("div",{className:"p-3 bg-seagreen-100 rounded-lg",children:e.jsx(u,{className:"h-6 w-6 text-seagreen-700"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:"Upload New Document"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Add important documents related to port operations"})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"message",className:"block text-sm font-semibold text-gray-700 mb-2",children:"Document Description"}),e.jsx("input",{type:"text",id:"message",value:m,onChange:s=>x(s.target.value),className:"block w-full px-4 py-3 rounded-lg border-2 border-gray-300 focus:border-seagreen-500 focus:ring-2 focus:ring-seagreen-200 transition-all sm:text-sm placeholder:text-gray-400",placeholder:"e.g., Port License Certificate, Safety Compliance Document",maxLength:100})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[e.jsx("input",{type:"file",ref:l,onChange:h,className:"hidden",accept:".pdf,.doc,.docx,.jpg,.jpeg,.png"}),e.jsx(N,{onClick:()=>{var s;return(s=l.current)==null?void 0:s.click()},disabled:o,loading:o,icon:e.jsx(u,{className:"h-4 w-4"}),children:o?"Uploading...":"Select & Upload File"}),e.jsxs("div",{className:"flex items-start gap-2 text-sm text-gray-600 bg-white/60 rounded-lg px-3 py-2",children:[e.jsx(y,{className:"h-4 w-4 mt-0.5 flex-shrink-0 text-amber-600"}),e.jsx("span",{children:"Max 5MB â€¢ PDF, DOC, JPEG, PNG supported"})]})]})]})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-semibold text-gray-900",children:"Uploaded Documents"}),e.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[a.length," ",a.length===1?"document":"documents"," available"]})]})}),a.length===0?e.jsxs("div",{className:"bg-gray-50 rounded-xl border-2 border-dashed border-gray-200 p-12 text-center",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gray-100 rounded-full mb-4",children:e.jsx(v,{className:"h-8 w-8 text-gray-400"})}),e.jsx("h3",{className:"text-base font-semibold text-gray-900 mb-1",children:"No documents yet"}),e.jsx("p",{className:"text-sm text-gray-500 max-w-sm mx-auto",children:i?"No documents have been uploaded for this port.":"Upload your first document to get started. All documents are securely stored."})]}):e.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.map(s=>e.jsx("div",{className:"group bg-white rounded-xl border border-gray-200 hover:border-seagreen-300 hover:shadow-md transition-all duration-200 p-5",children:e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsxs("div",{className:"flex items-start gap-4 flex-1 min-w-0",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"p-3 bg-gradient-to-br from-seagreen-50 to-emerald-50 rounded-lg group-hover:from-seagreen-100 group-hover:to-emerald-100 transition-colors",children:e.jsx(w,{className:"h-6 w-6 text-seagreen-600"})})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 truncate mb-1",children:s.fileName}),s.message&&e.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:s.message}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500",children:[e.jsx(D,{className:"h-3.5 w-3.5"}),e.jsxs("span",{children:["Uploaded ",j(s.uploadedAt)]})]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 flex-shrink-0",children:[e.jsxs("a",{href:s.url,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-1.5 px-3 py-2 bg-seagreen-50 hover:bg-seagreen-100 text-seagreen-700 rounded-lg text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-seagreen-500 focus:ring-offset-2",title:"View document",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"View"})]}),!i&&n&&e.jsxs("button",{onClick:()=>f(s.id),className:"inline-flex items-center gap-1.5 px-3 py-2 bg-red-50 hover:bg-red-100 text-red-700 rounded-lg text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-red-500 focus:ring-offset-2",title:"Delete document",children:[e.jsx(F,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Delete"})]})]})]})},s.id))})]})]})};export{A as D};
//# sourceMappingURL=DocumentUpload-DLhyoUvu.js.map
