{"version":3,"file":"VesselList-BqaPix4p.js","sources":["../../src/pages/VesselList.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport { Ship } from \"lucide-react\";\nimport { fetchPortById, fetchVessels } from \"../services/api\";\nimport { Port } from \"../types\";\nimport DashboardLayout from \"../components/layout/DashboardLayout\";\nimport VesselList from \"../components/vessel/VesselList\";\nimport LoadingSpinner from \"../components/ui/LoadingSpinner\";\nimport ErrorDisplay from \"../components/ui/ErrorDisplay\";\n\nconst VesselListPage: React.FC = () => {\n  const { portId } = useParams<{ portId: string }>();\n  const navigate = useNavigate();\n\n  const [portData, setPortData] = useState<Port | null>(null);\n  const [vessels, setVessels] = useState<any[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    if (!portId) {\n      setError(\"Port ID is missing\");\n      setLoading(false);\n      return;\n    }\n\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n\n        // Fetch port data\n        const port = await fetchPortById(portId);\n        if (!port) {\n          setError(\"Port not found\");\n          setLoading(false);\n          return;\n        }\n\n        setPortData(port);\n\n        // Fetch vessels for this port\n        const vesselData = await fetchVessels(portId);\n        setVessels(vesselData);\n      } catch (err) {\n        console.error(\"Error fetching data:\", err);\n        setError(\"Failed to load vessel data\");\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [portId]);\n\n  if (loading) {\n    return <LoadingSpinner fullScreen message=\"Loading vessel data...\" />;\n  }\n\n  if (error || !portData) {\n    return (\n      <ErrorDisplay\n        message={error || \"Failed to load port details\"}\n        redirectLink=\"/admin\"\n        redirectText=\"Back to Dashboard\"\n        fullPage\n      />\n    );\n  }\n\n  return (\n    <DashboardLayout\n      title={`Vessel List - ${portData.portName}`}\n      subtitle=\"View and manage vessels for this port\"\n      backLink=\"/admin\"\n      backLinkText=\"Back to Dashboard\"\n      icon={<Ship className=\"h-6 w-6 text-seagreen-600\" />}\n    >\n      <VesselList\n        vessels={vessels}\n        loading={false}\n        error={null}\n        portName={portData.portName}\n        portId={portId}\n        showExport={true}\n      />\n    </DashboardLayout>\n  );\n};\n\nexport default VesselListPage;\n"],"names":["VesselListPage","portId","useParams","useNavigate","portData","setPortData","useState","vessels","setVessels","loading","setLoading","error","setError","useEffect","port","fetchPortById","vesselData","fetchVessels","err","jsx","LoadingSpinner","ErrorDisplay","DashboardLayout","Ship","VesselList"],"mappings":"0aAUA,MAAMA,EAA2B,IAAM,CACrC,KAAM,CAAE,OAAAC,CAAA,EAAWC,EAAA,EACFC,EAAA,EAEjB,KAAM,CAACC,EAAUC,CAAW,EAAIC,EAAAA,SAAsB,IAAI,EACpD,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAgB,CAAA,CAAE,EAC1C,CAACG,EAASC,CAAU,EAAIJ,EAAAA,SAAS,EAAI,EACrC,CAACK,EAAOC,CAAQ,EAAIN,EAAAA,SAAwB,IAAI,EAsCtD,OApCAO,EAAAA,UAAU,IAAM,CACd,GAAI,CAACZ,EAAQ,CACXW,EAAS,oBAAoB,EAC7BF,EAAW,EAAK,EAChB,MACF,EAEkB,SAAY,CAC5B,GAAI,CACFA,EAAW,EAAI,EACfE,EAAS,IAAI,EAGb,MAAME,EAAO,MAAMC,EAAcd,CAAM,EACvC,GAAI,CAACa,EAAM,CACTF,EAAS,gBAAgB,EACzBF,EAAW,EAAK,EAChB,MACF,CAEAL,EAAYS,CAAI,EAGhB,MAAME,EAAa,MAAMC,EAAahB,CAAM,EAC5CO,EAAWQ,CAAU,CACvB,OAASE,EAAK,CACZ,QAAQ,MAAM,uBAAwBA,CAAG,EACzCN,EAAS,4BAA4B,CACvC,QAAA,CACEF,EAAW,EAAK,CAClB,CACF,GAEA,CACF,EAAG,CAACT,CAAM,CAAC,EAEPQ,EACKU,EAAAA,IAACC,EAAA,CAAe,WAAU,GAAC,QAAQ,yBAAyB,EAGjET,GAAS,CAACP,EAEVe,EAAAA,IAACE,EAAA,CACC,QAASV,GAAS,8BAClB,aAAa,SACb,aAAa,oBACb,SAAQ,EAAA,CAAA,EAMZQ,EAAAA,IAACG,EAAA,CACC,MAAO,iBAAiBlB,EAAS,QAAQ,GACzC,SAAS,wCACT,SAAS,SACT,aAAa,oBACb,KAAMe,EAAAA,IAACI,EAAA,CAAK,UAAU,2BAAA,CAA4B,EAElD,SAAAJ,EAAAA,IAACK,EAAA,CACC,QAAAjB,EACA,QAAS,GACT,MAAO,KACP,SAAUH,EAAS,SACnB,OAAAH,EACA,WAAY,EAAA,CAAA,CACd,CAAA,CAGN"}