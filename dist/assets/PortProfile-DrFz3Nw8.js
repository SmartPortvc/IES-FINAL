import{u as U,j as e,L as E,g as l,d as i,a as n,o as C,p as S}from"./index-DYPp-ivU.js";import{d as B,r as c}from"./vendor-BOKTEpvH.js";import{D as h}from"./DashboardLayout-CKQImzu3.js";import{E as R}from"./ErrorDisplay-CLSu7BDk.js";import{a as b}from"./formatters-CaoZFZze.js";import{D as T}from"./DocumentUpload-0-cArN0h.js";import{S as z,M as j,n as N,C as u,e as f,o as v,m as F,f as w,p as I,q as M,r as $}from"./ui-WwCSzw8y.js";const Q=()=>{var p;const{currentUser:o}=U();B();const[s,x]=c.useState(null),[y,k]=c.useState(!0),[g,m]=c.useState("");c.useEffect(()=>{(async()=>{if(o)try{const d=await l(i(n,"users",o.uid));if(d.exists()&&d.data().portId){const a=d.data().portId,r=await l(i(n,"ports",a));if(r.exists()){const L={id:r.id,...r.data()};x(L)}else m("Port data not found")}else m("User is not associated with any port")}catch(d){console.error("Error fetching port data:",d),m("Failed to load port information")}finally{k(!1)}})()},[o]);const P=async(t,d)=>{if(s!=null&&s.id)try{await S(s.id,t,d);const a=await l(i(n,"ports",s.id));a.exists()&&x({id:a.id,...a.data()})}catch(a){throw console.error("Error uploading document:",a),a}},A=async t=>{var a;if(!(s!=null&&s.id))return;const d=(a=s.documents)==null?void 0:a.find(r=>r.id===t);if(d)try{await C(s.id,d);const r=await l(i(n,"ports",s.id));r.exists()&&x({id:r.id,...r.data()})}catch(r){throw console.error("Error deleting document:",r),r}};return y?e.jsx(h,{title:"Port Profile",children:e.jsx(E,{message:"Loading port profile..."})}):g?e.jsx(h,{title:"Port Profile",children:e.jsx(R,{message:g})}):e.jsx(h,{title:"Port Profile",backLink:"/port-dashboard",backLinkText:"Back to Dashboard",children:e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"bg-gradient-to-br from-seagreen-600 via-seagreen-700 to-seagreen-800 rounded-2xl shadow-xl overflow-hidden",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-white/5 [mask-image:linear-gradient(0deg,transparent,rgba(255,255,255,0.1))]"}),e.jsx("div",{className:"relative px-8 py-10 md:px-12 md:py-14",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-6",children:[e.jsxs("div",{className:"flex items-start gap-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute inset-0 bg-white/20 rounded-2xl blur-xl"}),e.jsx("div",{className:"relative bg-white p-4 rounded-2xl shadow-lg",children:e.jsx(z,{className:"h-12 w-12 text-seagreen-600"})})]}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-white mb-3 tracking-tight",children:s==null?void 0:s.portName}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 text-seagreen-50",children:[e.jsx(j,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm font-medium",children:s==null?void 0:s.email})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-1.5 px-3 py-1 bg-white/20 backdrop-blur-sm rounded-full",children:[e.jsx(N,{className:"h-4 w-4 text-green-300"}),e.jsx("span",{className:"text-sm font-medium text-white",children:"Active"})]})})]})]})]}),e.jsx("div",{className:"flex flex-col gap-3 md:items-end",children:e.jsxs("div",{className:"flex items-center gap-2 text-seagreen-50",children:[e.jsx(u,{className:"h-4 w-4"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-80",children:"Registered"}),e.jsx("p",{className:"text-sm font-semibold",children:b(s==null?void 0:s.registeredAt)})]})]})})]})})]})}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx("div",{className:"group bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-blue-50 rounded-lg group-hover:bg-blue-100 transition-colors",children:e.jsx(f,{className:"h-6 w-6 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Berths"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(s==null?void 0:s.unitizedBerths)||"—"})]})]})}),e.jsx("div",{className:"group bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-emerald-50 rounded-lg group-hover:bg-emerald-100 transition-colors",children:e.jsx(v,{className:"h-6 w-6 text-emerald-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Land Allotted"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s!=null&&s.landAllotted?`${s.landAllotted} ac`:"—"})]})]})}),e.jsx("div",{className:"group bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-purple-50 rounded-lg group-hover:bg-purple-100 transition-colors",children:e.jsx(F,{className:"h-6 w-6 text-purple-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Land Utilized"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:s!=null&&s.landUtilised?`${s.landUtilised} ac`:"—"})]})]})}),e.jsx("div",{className:"group bg-white rounded-xl shadow-sm hover:shadow-md transition-all duration-200 border border-gray-100 p-6",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-3 bg-amber-50 rounded-lg group-hover:bg-amber-100 transition-colors",children:e.jsx(w,{className:"h-6 w-6 text-amber-600"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Documents"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:((p=s==null?void 0:s.documents)==null?void 0:p.length)||0})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"bg-gradient-to-r from-seagreen-50 to-seagreen-100 px-6 py-4 border-b border-seagreen-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-seagreen-600 rounded-lg",children:e.jsx(I,{className:"h-5 w-5 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Contact & Location"})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(v,{className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:"Registered Address"}),e.jsx("p",{className:"text-gray-900 leading-relaxed",children:(s==null?void 0:s.registeredAddress)||"Not provided"})]})]}),e.jsxs("div",{className:"flex items-start gap-3 pt-3 border-t border-gray-100",children:[e.jsx(j,{className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:"Email Address"}),e.jsx("p",{className:"text-gray-900",children:s==null?void 0:s.email})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-blue-100 px-6 py-4 border-b border-blue-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-blue-600 rounded-lg",children:e.jsx(M,{className:"h-5 w-5 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Tax Information"})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 gap-5",children:[e.jsx("div",{className:"flex items-start gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"GST Number"}),e.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3 border border-gray-200",children:e.jsx("p",{className:"text-gray-900 font-mono text-sm",children:(s==null?void 0:s.gst)||"Not provided"})})]})}),e.jsx("div",{className:"flex items-start gap-3",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"PAN Number"}),e.jsx("div",{className:"bg-gray-50 rounded-lg px-4 py-3 border border-gray-200",children:e.jsx("p",{className:"text-gray-900 font-mono text-sm",children:(s==null?void 0:s.pan)||"Not provided"})})]})})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"bg-gradient-to-r from-emerald-50 to-emerald-100 px-6 py-4 border-b border-emerald-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-emerald-600 rounded-lg",children:e.jsx(f,{className:"h-5 w-5 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Port Facilities"})]})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Land Allocated"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s!=null&&s.landAllotted?`${s.landAllotted}`:"—"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"acres"})]}),e.jsxs("div",{className:"bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Land Utilized"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s!=null&&s.landUtilised?`${s.landUtilised}`:"—"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"acres"})]}),e.jsxs("div",{className:"sm:col-span-2 bg-gradient-to-br from-gray-50 to-gray-100 rounded-lg p-4 border border-gray-200",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Number of Berths"}),e.jsx("p",{className:"text-2xl font-bold text-gray-900",children:(s==null?void 0:s.unitizedBerths)||"Not provided"})]})]})})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden hover:shadow-md transition-shadow",children:[e.jsx("div",{className:"bg-gradient-to-r from-purple-50 to-purple-100 px-6 py-4 border-b border-purple-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-purple-600 rounded-lg",children:e.jsx($,{className:"h-5 w-5 text-white"})}),e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Registration Details"})]})}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(u,{className:"h-5 w-5 text-gray-400 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-1",children:"Registration Date"}),e.jsx("p",{className:"text-gray-900 font-medium",children:b(s==null?void 0:s.registeredAt)})]})]}),e.jsxs("div",{className:"flex items-start gap-3 pt-3 border-t border-gray-100",children:[e.jsx(N,{className:"h-5 w-5 text-green-500 mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wider mb-2",children:"Account Status"}),e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-green-50 border border-green-200 rounded-lg",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),e.jsx("span",{className:"text-sm font-semibold text-green-700",children:"Active & Verified"})]})]})]})]})]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"bg-gradient-to-r from-amber-50 to-amber-100 px-6 py-4 border-b border-amber-200",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-amber-600 rounded-lg",children:e.jsx(w,{className:"h-5 w-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Port Documents"}),e.jsx("p",{className:"text-sm text-gray-600 mt-0.5",children:"Manage and view all port-related documents"})]})]})}),e.jsx("div",{className:"p-6",children:e.jsx(T,{onUpload:P,onDelete:A,documents:(s==null?void 0:s.documents)||[]})})]})]})})};export{Q as default};
//# sourceMappingURL=PortProfile-DrFz3Nw8.js.map
