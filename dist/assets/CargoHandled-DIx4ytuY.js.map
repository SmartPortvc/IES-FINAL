{"version":3,"file":"CargoHandled-DIx4ytuY.js","sources":["../../src/pages/CargoHandled.tsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { BarChart3, Package, Calendar, ArrowUpDown, Ship } from 'lucide-react';\nimport { useAuth } from '../context/AuthContext';\nimport { fetchPorts, fetchVessels } from '../services/api';\nimport { Port, Vessel } from '../types';\nimport DashboardLayout from '../components/layout/DashboardLayout';\nimport Card from '../components/ui/Card';\nimport DateRangePicker from '../components/ui/DateRangePicker';\nimport LoadingSpinner from '../components/ui/LoadingSpinner';\nimport ErrorDisplay from '../components/ui/ErrorDisplay';\nimport { formatDate } from '../utils/formatters';\n\nconst CargoHandled: React.FC = () => {\n  const { userRole } = useAuth();\n  const [ports, setPorts] = useState<Port[]>([]);\n  const [vessels, setVessels] = useState<Vessel[]>([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  // Filter states\n  const [selectedPorts, setSelectedPorts] = useState<string[]>([]);\n  const [fromDate, setFromDate] = useState<string>('');\n  const [toDate, setToDate] = useState<string>('');\n\n  // Pagination states\n  const [currentPage, setCurrentPage] = useState(1);\n  const [itemsPerPage, setItemsPerPage] = useState(10);\n\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        setLoading(true);\n        setError(null);\n        \n        // Fetch all ports\n        const portsData = await fetchPorts();\n        setPorts(portsData);\n        \n        // Fetch vessels for all ports\n        const allVessels: Vessel[] = [];\n        for (const port of portsData) {\n          if (port.id) {\n            const portVessels = await fetchVessels(port.id);\n            allVessels.push(...portVessels.map(vessel => ({\n              ...vessel,\n              portName: port.portName\n            })));\n          }\n        }\n        setVessels(allVessels);\n      } catch (err) {\n        console.error('Error fetching data:', err);\n        setError('Failed to load cargo data');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchData();\n  }, []);\n\n  const filteredVessels = useMemo(() => {\n    return vessels.filter(vessel => {\n      // Filter by selected ports\n      const matchesPort = selectedPorts.length === 0 ||\n        (vessel.portId && selectedPorts.includes(vessel.portId));\n\n      // Filter by date range\n      let matchesDateRange = true;\n      if (fromDate && vessel.arrivalDateTime) {\n        const vesselDate = new Date(vessel.arrivalDateTime.seconds * 1000);\n        const fromDateObj = new Date(fromDate);\n        matchesDateRange = matchesDateRange && vesselDate >= fromDateObj;\n      }\n      if (toDate && vessel.arrivalDateTime) {\n        const vesselDate = new Date(vessel.arrivalDateTime.seconds * 1000);\n        const toDateObj = new Date(toDate);\n        toDateObj.setHours(23, 59, 59, 999);\n        matchesDateRange = matchesDateRange && vesselDate <= toDateObj;\n      }\n\n      return matchesPort && matchesDateRange;\n    });\n  }, [vessels, selectedPorts, fromDate, toDate]);\n\n  // Pagination calculations\n  const totalPages = Math.ceil(filteredVessels.length / itemsPerPage);\n  const startIndex = (currentPage - 1) * itemsPerPage;\n  const endIndex = startIndex + itemsPerPage;\n  const paginatedVessels = useMemo(() => {\n    return filteredVessels.slice(startIndex, endIndex);\n  }, [filteredVessels, startIndex, endIndex]);\n\n  // Reset to first page when filters change\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [selectedPorts, fromDate, toDate]);\n\n  // Calculate cargo statistics\n  const cargoStats = useMemo(() => {\n    const stats = {\n      totalCargo: 0,\n      cargoByType: {} as Record<string, number>,\n      cargoByPort: {} as Record<string, number>,\n      averageCargoPerVessel: 0\n    };\n\n    filteredVessels.forEach(vessel => {\n      // Parse cargo quantity from the cargo object\n      const cargoQuantityStr = vessel.cargo?.quantity || '0';\n      const quantity = parseInt(cargoQuantityStr.split(' ')[0]) || 0;\n      \n      // Total cargo\n      stats.totalCargo += quantity;\n      \n      // Cargo by type\n      const cargoType = vessel.cargo?.type || 'Unknown';\n      stats.cargoByType[cargoType] = (stats.cargoByType[cargoType] || 0) + quantity;\n      \n      // Cargo by port\n      if (vessel.portName) {\n        stats.cargoByPort[vessel.portName] = (stats.cargoByPort[vessel.portName] || 0) + quantity;\n      }\n    });\n\n    // Calculate average\n    stats.averageCargoPerVessel = filteredVessels.length > 0 \n      ? stats.totalCargo / filteredVessels.length \n      : 0;\n\n    return stats;\n  }, [filteredVessels]);\n\n  if (loading) {\n    return (\n      <DashboardLayout title=\"Cargo Handled Details\">\n        <LoadingSpinner message=\"Loading cargo data...\" />\n      </DashboardLayout>\n    );\n  }\n\n  if (error) {\n    return (\n      <DashboardLayout title=\"Cargo Handled Details\">\n        <ErrorDisplay message={error} />\n      </DashboardLayout>\n    );\n  }\n\n  return (\n    <DashboardLayout\n      title=\"Cargo Handled Details\"\n      subtitle=\"Analyze cargo data across all ports\"\n      icon={<BarChart3 className=\"h-6 w-6 text-seagreen-600\" />}\n    >\n      {/* Filters */}\n      <Card \n        title=\"Filters\" \n        icon={<Package className=\"h-6 w-6 text-seagreen-600\" />}\n        className=\"mb-6\"\n      >\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div>\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n              Select Ports for Comparison\n            </label>\n            <select\n              multiple\n              value={selectedPorts}\n              onChange={(e) => setSelectedPorts(Array.from(e.target.selectedOptions, option => option.value))}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-seagreen-500\"\n              size={4}\n            >\n              {ports.map(port => (\n                <option key={port.id} value={port.id}>\n                  {port.portName}\n                </option>\n              ))}\n            </select>\n            <p className=\"mt-1 text-sm text-gray-500\">\n              Hold Ctrl/Cmd to select multiple ports\n            </p>\n          </div>\n\n          <DateRangePicker\n            fromDate={fromDate}\n            toDate={toDate}\n            onFromDateChange={setFromDate}\n            onToDateChange={setToDate}\n          />\n        </div>\n      </Card>\n\n      {/* Summary Statistics */}\n      <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-6\">\n        <Card \n          title=\"Total Cargo Handled\" \n          icon={<Package className=\"h-5 w-5 text-seagreen-600\" />}\n        >\n          <div className=\"text-3xl font-bold text-gray-900\">\n            {cargoStats.totalCargo.toLocaleString()} MT\n          </div>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            Across {filteredVessels.length} vessels\n          </p>\n        </Card>\n\n        <Card \n          title=\"Average Cargo per Vessel\" \n          icon={<Ship className=\"h-5 w-5 text-seagreen-600\" />}\n        >\n          <div className=\"text-3xl font-bold text-gray-900\">\n            {Math.round(cargoStats.averageCargoPerVessel).toLocaleString()} MT\n          </div>\n          <p className=\"text-sm text-gray-500 mt-1\">\n            Based on selected data\n          </p>\n        </Card>\n\n        <Card \n          title=\"Date Range\" \n          icon={<Calendar className=\"h-5 w-5 text-seagreen-600\" />}\n        >\n          <div className=\"text-lg font-medium text-gray-900\">\n            {fromDate && toDate ? (\n              <>\n                {formatDate(new Date(fromDate))} - {formatDate(new Date(toDate))}\n              </>\n            ) : (\n              'All Time'\n            )}\n          </div>\n        </Card>\n      </div>\n\n      {/* Detailed Analysis */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        {/* Cargo by Type */}\n        <Card \n          title=\"Cargo by Type\" \n          icon={<Package className=\"h-6 w-6 text-seagreen-600\" />}\n        >\n          <div className=\"space-y-4\">\n            {Object.entries(cargoStats.cargoByType)\n              .sort(([, a], [, b]) => b - a)\n              .map(([type, quantity]) => (\n                <div key={type} className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center\">\n                    <Package className=\"h-5 w-5 text-seagreen-500 mr-2\" />\n                    <span className=\"text-gray-700\">{type}</span>\n                  </div>\n                  <span className=\"font-medium text-gray-900\">\n                    {quantity.toLocaleString()} MT\n                  </span>\n                </div>\n              ))}\n          </div>\n        </Card>\n\n        {/* Cargo by Port */}\n        <Card \n          title=\"Cargo by Port\" \n          icon={<Ship className=\"h-6 w-6 text-seagreen-600\" />}\n        >\n          <div className=\"space-y-4\">\n            {Object.entries(cargoStats.cargoByPort)\n              .sort(([, a], [, b]) => b - a)\n              .map(([portName, quantity]) => (\n                <div key={portName} className=\"flex items-center justify-between\">\n                  <div className=\"flex items-center\">\n                    <Ship className=\"h-5 w-5 text-seagreen-500 mr-2\" />\n                    <span className=\"text-gray-700\">{portName}</span>\n                  </div>\n                  <span className=\"font-medium text-gray-900\">\n                    {quantity.toLocaleString()} MT\n                  </span>\n                </div>\n              ))}\n          </div>\n        </Card>\n      </div>\n\n      {/* Vessel List */}\n      <Card\n        title=\"Vessel Details\"\n        icon={<Ship className=\"h-6 w-6 text-seagreen-600\" />}\n        className=\"mt-6\"\n      >\n        <div className=\"space-y-4\">\n          {/* Items per page selector */}\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center space-x-2\">\n              <label htmlFor=\"itemsPerPage\" className=\"text-sm text-gray-700\">\n                Items per page:\n              </label>\n              <select\n                id=\"itemsPerPage\"\n                value={itemsPerPage}\n                onChange={(e) => {\n                  setItemsPerPage(Number(e.target.value));\n                  setCurrentPage(1);\n                }}\n                className=\"px-3 py-1 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-seagreen-500 text-sm\"\n              >\n                <option value={5}>5</option>\n                <option value={10}>10</option>\n                <option value={25}>25</option>\n                <option value={50}>50</option>\n                <option value={100}>100</option>\n              </select>\n            </div>\n            <div className=\"text-sm text-gray-700\">\n              Showing {filteredVessels.length === 0 ? 0 : startIndex + 1} to{' '}\n              {Math.min(endIndex, filteredVessels.length)} of {filteredVessels.length} vessels\n            </div>\n          </div>\n\n          {/* Table */}\n          <div className=\"overflow-x-auto\">\n            <table className=\"min-w-full divide-y divide-gray-200\">\n              <thead className=\"bg-gray-50\">\n                <tr>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Vessel Name\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Port\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Arrival Date\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Cargo Type\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Quantity\n                  </th>\n                  <th className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Operation\n                  </th>\n                </tr>\n              </thead>\n              <tbody className=\"bg-white divide-y divide-gray-200\">\n                {paginatedVessels.length > 0 ? (\n                  paginatedVessels.map((vessel) => (\n                    <tr key={vessel.id} className=\"hover:bg-gray-50\">\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <div className=\"flex items-center\">\n                          <Ship className=\"h-5 w-5 text-seagreen-500 mr-2\" />\n                          <div className=\"text-sm font-medium text-gray-900\">\n                            {vessel.vesselName}\n                          </div>\n                        </div>\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {vessel.portName}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {vessel.arrivalDateTime ? formatDate(vessel.arrivalDateTime) : 'N/A'}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {vessel.cargo?.type || 'N/A'}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                        {vessel.cargo?.quantity || 'N/A'}\n                      </td>\n                      <td className=\"px-6 py-4 whitespace-nowrap\">\n                        <span className={`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${\n                          vessel.operationType === 'Loaded'\n                            ? 'bg-green-100 text-green-800'\n                            : vessel.operationType === 'Unloaded'\n                            ? 'bg-seagreen-100 text-seagreen-800'\n                            : vessel.operationType === 'Lighterage'\n                            ? 'bg-yellow-100 text-yellow-800'\n                            : 'bg-purple-100 text-purple-800'\n                        }`}>\n                          {vessel.operationType}\n                        </span>\n                      </td>\n                    </tr>\n                  ))\n                ) : (\n                  <tr>\n                    <td colSpan={6} className=\"px-6 py-8 text-center text-sm text-gray-500\">\n                      No vessels found matching the selected filters\n                    </td>\n                  </tr>\n                )}\n              </tbody>\n            </table>\n          </div>\n\n          {/* Pagination Controls */}\n          {totalPages > 1 && (\n            <div className=\"flex items-center justify-between border-t border-gray-200 pt-4\">\n              <button\n                onClick={() => setCurrentPage(prev => Math.max(prev - 1, 1))}\n                disabled={currentPage === 1}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                Previous\n              </button>\n\n              <div className=\"flex items-center space-x-2\">\n                {/* First page */}\n                {currentPage > 3 && (\n                  <>\n                    <button\n                      onClick={() => setCurrentPage(1)}\n                      className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors\"\n                    >\n                      1\n                    </button>\n                    {currentPage > 4 && (\n                      <span className=\"px-2 text-gray-500\">...</span>\n                    )}\n                  </>\n                )}\n\n                {/* Page numbers */}\n                {Array.from({ length: totalPages }, (_, i) => i + 1)\n                  .filter(page => {\n                    return (\n                      page === currentPage ||\n                      page === currentPage - 1 ||\n                      page === currentPage + 1 ||\n                      page === currentPage - 2 ||\n                      page === currentPage + 2\n                    );\n                  })\n                  .map(page => (\n                    <button\n                      key={page}\n                      onClick={() => setCurrentPage(page)}\n                      className={`px-3 py-2 text-sm font-medium rounded-md transition-colors ${\n                        currentPage === page\n                          ? 'bg-seagreen-600 text-white'\n                          : 'text-gray-700 bg-white border border-gray-300 hover:bg-gray-50'\n                      }`}\n                    >\n                      {page}\n                    </button>\n                  ))}\n\n                {/* Last page */}\n                {currentPage < totalPages - 2 && (\n                  <>\n                    {currentPage < totalPages - 3 && (\n                      <span className=\"px-2 text-gray-500\">...</span>\n                    )}\n                    <button\n                      onClick={() => setCurrentPage(totalPages)}\n                      className=\"px-3 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 transition-colors\"\n                    >\n                      {totalPages}\n                    </button>\n                  </>\n                )}\n              </div>\n\n              <button\n                onClick={() => setCurrentPage(prev => Math.min(prev + 1, totalPages))}\n                disabled={currentPage === totalPages}\n                className=\"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-md hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors\"\n              >\n                Next\n              </button>\n            </div>\n          )}\n        </div>\n      </Card>\n    </DashboardLayout>\n  );\n};\n\nexport default CargoHandled;"],"names":["CargoHandled","useAuth","ports","setPorts","useState","vessels","setVessels","loading","setLoading","error","setError","selectedPorts","setSelectedPorts","fromDate","setFromDate","toDate","setToDate","currentPage","setCurrentPage","itemsPerPage","setItemsPerPage","useEffect","portsData","fetchPorts","allVessels","port","portVessels","fetchVessels","vessel","err","filteredVessels","useMemo","matchesPort","matchesDateRange","vesselDate","fromDateObj","toDateObj","totalPages","startIndex","endIndex","paginatedVessels","cargoStats","stats","cargoQuantityStr","_a","quantity","cargoType","_b","jsx","DashboardLayout","LoadingSpinner","ErrorDisplay","jsxs","BarChart3","Card","Package","e","option","DateRangePicker","Ship","Calendar","Fragment","formatDate","a","b","type","portName","prev","_","i","page"],"mappings":"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"}