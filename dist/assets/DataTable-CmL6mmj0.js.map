{"version":3,"file":"DataTable-CmL6mmj0.js","sources":["../../src/components/ui/DataTable.tsx"],"sourcesContent":["import React, { ReactNode, useState, useEffect } from 'react';\nimport { ChevronLeft, ChevronRight } from 'lucide-react';\nimport LoadingSpinner from './LoadingSpinner';\nimport ErrorDisplay from './ErrorDisplay';\n\ninterface DataTableProps {\n  columns: {\n    key: string;\n    header: string;\n    render?: (value: any, item: any) => ReactNode;\n  }[];\n  data: any[];\n  loading?: boolean;\n  error?: string | null;\n  emptyMessage?: string;\n  emptyIcon?: ReactNode;\n  enablePagination?: boolean;\n  itemsPerPage?: number;\n}\n\nconst DataTable: React.FC<DataTableProps> = ({\n  columns,\n  data,\n  loading = false,\n  error = null,\n  emptyMessage = 'No data available',\n  emptyIcon,\n  enablePagination = false,\n  itemsPerPage = 10\n}) => {\n  const [currentPage, setCurrentPage] = useState(1);\n\n  // Reset to page 1 when data changes\n  useEffect(() => {\n    setCurrentPage(1);\n  }, [data]);\n\n  // Calculate pagination values\n  const totalPages = enablePagination ? Math.ceil(data.length / itemsPerPage) : 1;\n  const startIndex = enablePagination ? (currentPage - 1) * itemsPerPage : 0;\n  const endIndex = enablePagination ? startIndex + itemsPerPage : data.length;\n  const paginatedData = enablePagination ? data.slice(startIndex, endIndex) : data;\n\n  const handlePageChange = (page: number) => {\n    if (page >= 1 && page <= totalPages) {\n      setCurrentPage(page);\n    }\n  };\n\n  const getPageNumbers = () => {\n    const pages: (number | string)[] = [];\n    const maxVisiblePages = 5;\n\n    if (totalPages <= maxVisiblePages) {\n      for (let i = 1; i <= totalPages; i++) {\n        pages.push(i);\n      }\n    } else {\n      if (currentPage <= 3) {\n        for (let i = 1; i <= 4; i++) {\n          pages.push(i);\n        }\n        pages.push('...');\n        pages.push(totalPages);\n      } else if (currentPage >= totalPages - 2) {\n        pages.push(1);\n        pages.push('...');\n        for (let i = totalPages - 3; i <= totalPages; i++) {\n          pages.push(i);\n        }\n      } else {\n        pages.push(1);\n        pages.push('...');\n        pages.push(currentPage - 1);\n        pages.push(currentPage);\n        pages.push(currentPage + 1);\n        pages.push('...');\n        pages.push(totalPages);\n      }\n    }\n\n    return pages;\n  };\n\n  if (loading) {\n    return <LoadingSpinner message=\"Loading data...\" />;\n  }\n\n  if (error) {\n    return <ErrorDisplay message={error} />;\n  }\n\n  if (data.length === 0) {\n    return (\n      <div className=\"bg-gray-50 border border-gray-200 text-gray-700 px-4 py-8 rounded text-center\">\n        {emptyIcon}\n        <h3 className=\"text-lg font-medium\">No data available</h3>\n        <p className=\"mt-2 text-gray-500\">{emptyMessage}</p>\n      </div>\n    );\n  }\n\n  return (\n    <div>\n      <div className=\"overflow-x-auto\">\n        <table className=\"min-w-full divide-y divide-gray-200\">\n          <thead className=\"bg-gray-50\">\n            <tr>\n              {columns.map((column) => (\n                <th\n                  key={column.key}\n                  className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\"\n                >\n                  {column.header}\n                </th>\n              ))}\n            </tr>\n          </thead>\n          <tbody className=\"bg-white divide-y divide-gray-200\">\n            {paginatedData.map((item, index) => (\n              <tr key={item.id || index} className=\"hover:bg-gray-50\">\n                {columns.map((column) => (\n                  <td key={`${item.id || index}-${column.key}`} className=\"px-6 py-4 whitespace-nowrap\">\n                    {column.render\n                      ? column.render(item[column.key], item)\n                      : item[column.key]}\n                  </td>\n                ))}\n              </tr>\n            ))}\n          </tbody>\n        </table>\n      </div>\n\n      {enablePagination && totalPages > 1 && (\n        <div className=\"mt-6 flex items-center justify-between border-t border-gray-200 pt-4\">\n          <div className=\"text-sm text-gray-700\">\n            Showing <span className=\"font-medium\">{startIndex + 1}</span> to{' '}\n            <span className=\"font-medium\">{Math.min(endIndex, data.length)}</span> of{' '}\n            <span className=\"font-medium\">{data.length}</span> results\n          </div>\n\n          <div className=\"flex items-center space-x-2\">\n            <button\n              onClick={() => handlePageChange(currentPage - 1)}\n              disabled={currentPage === 1}\n              className={`p-2 rounded-md ${\n                currentPage === 1\n                  ? 'text-gray-400 cursor-not-allowed'\n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              aria-label=\"Previous page\"\n            >\n              <ChevronLeft className=\"h-5 w-5\" />\n            </button>\n\n            <div className=\"flex items-center space-x-1\">\n              {getPageNumbers().map((page, index) => (\n                <React.Fragment key={index}>\n                  {page === '...' ? (\n                    <span className=\"px-3 py-1 text-gray-500\">...</span>\n                  ) : (\n                    <button\n                      onClick={() => handlePageChange(page as number)}\n                      className={`px-3 py-1 rounded-md text-sm font-medium ${\n                        currentPage === page\n                          ? 'bg-seagreen-600 text-white'\n                          : 'text-gray-700 hover:bg-gray-100'\n                      }`}\n                    >\n                      {page}\n                    </button>\n                  )}\n                </React.Fragment>\n              ))}\n            </div>\n\n            <button\n              onClick={() => handlePageChange(currentPage + 1)}\n              disabled={currentPage === totalPages}\n              className={`p-2 rounded-md ${\n                currentPage === totalPages\n                  ? 'text-gray-400 cursor-not-allowed'\n                  : 'text-gray-700 hover:bg-gray-100'\n              }`}\n              aria-label=\"Next page\"\n            >\n              <ChevronRight className=\"h-5 w-5\" />\n            </button>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DataTable;"],"names":["DataTable","columns","data","loading","error","emptyMessage","emptyIcon","enablePagination","itemsPerPage","currentPage","setCurrentPage","useState","useEffect","totalPages","startIndex","endIndex","paginatedData","handlePageChange","page","getPageNumbers","pages","i","jsx","LoadingSpinner","ErrorDisplay","jsxs","column","item","index","ChevronLeft","React","ChevronRight"],"mappings":"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"}