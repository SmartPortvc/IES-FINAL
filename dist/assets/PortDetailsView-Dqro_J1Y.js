import{j as e,L as y,C as v,g as b,d as w,a as D}from"./index-D2y675Iz.js";import{e as S,d as A,r}from"./vendor-Cjg16i2H.js";import{E as P}from"./ErrorDisplay-DtSetXhG.js";import{D as I}from"./DocumentUpload-DLhyoUvu.js";import{k,S as g,l as h,m as E,W as j,R as L,i as C,C as c,f as R}from"./ui-D_zlxExx.js";const W=()=>{const{portId:d}=S(),N=A(),[s,u]=r.useState(null),[f,l]=r.useState(!0),[m,i]=r.useState(null),[T,p]=r.useState(null);r.useEffect(()=>{(async()=>{if(!d){i("Port ID is missing"),l(!1);return}try{l(!0);const t=await b(w(D,"ports",d));if(!t.exists()){i("Port not found"),l(!1);return}const o={id:t.id,...t.data()};u(o),p(o.portName)}catch(t){console.error("Error fetching port details:",t),i("Failed to load port details")}finally{l(!1)}})()},[d]);const x=()=>"/admin",n=a=>{if(!a)return"N/A";try{const t=a.toDate?a.toDate():new Date(a);return new Intl.DateTimeFormat("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"}).format(t)}catch(t){return console.error("Error formatting date:",t),"Invalid date"}};return f?e.jsx(y,{fullScreen:!0,message:"Loading port details..."}):m||!s?e.jsx(P,{message:m||"Failed to load port details",redirectLink:x(),redirectText:"Back to Dashboard",fullPage:!0}):e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white border-b border-gray-200 sticky top-0 z-10",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"py-6",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("button",{onClick:()=>N(x()),className:"mr-4 text-gray-400 hover:text-gray-600 transition-colors",children:e.jsx(k,{className:"h-6 w-6"})}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-900 sm:text-3xl truncate",children:s.portName}),e.jsx("div",{className:"ml-4",children:e.jsx("span",{className:`px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full ${s.status==="registered"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status==="registered"?"Registered":"Invited"})})]}),e.jsxs("div",{className:"mt-1 flex items-center text-sm text-gray-500",children:[e.jsx(g,{className:"flex-shrink-0 mr-1.5 h-5 w-5 text-gray-400"}),e.jsx("span",{children:s.email})]})]})]})})})})})}),e.jsx("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs("div",{className:"grid grid-cols-1 gap-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(g,{className:"h-8 w-8 text-seagreen-600"}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Port Details"})]}),e.jsxs("dl",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Email"}),e.jsx("dd",{className:"mt-1 text-lg text-gray-900",children:s.email})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Status"}),e.jsx("dd",{className:"mt-1",children:e.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${s.status==="registered"?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:s.status==="registered"?"Registered":"Invited"})})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(h,{className:"h-8 w-8 text-seagreen-600"}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Address Information"})]}),e.jsx("dl",{className:"mt-4 space-y-4",children:e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Registered Address"}),e.jsx("dd",{className:"mt-1 text-lg text-gray-900",children:s.registeredAddress||"Not provided"})]})})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(E,{className:"h-8 w-8 text-seagreen-600"}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Tax Information"})]}),e.jsxs("dl",{className:"mt-4 space-y-4",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"GST Number"}),e.jsx("dd",{className:"mt-1 text-lg text-gray-900",children:s.gst||"Not provided"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"PAN Number"}),e.jsx("dd",{className:"mt-1 text-lg text-gray-900",children:s.pan||"Not provided"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(h,{className:"h-8 w-8 text-seagreen-600"}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Port Information"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-500 flex items-center",children:[e.jsx(j,{className:"h-4 w-4 text-gray-400 mr-2"}),"Land allocated (acres)"]}),e.jsx("p",{className:"mt-1 text-gray-800",children:s.landAllotted||"Not provided"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-500 flex items-center",children:[e.jsx(j,{className:"h-4 w-4 text-gray-400 mr-2"}),"Land utilised (acres)"]}),e.jsx("p",{className:"mt-1 text-gray-800",children:s.landUtilised||"Not provided"})]}),e.jsxs("div",{children:[e.jsxs("h3",{className:"text-sm font-medium text-gray-500 flex items-center",children:[e.jsx(L,{className:"h-4 w-4 text-gray-400 mr-2"}),"No of berths"]}),e.jsx("p",{className:"mt-1 text-gray-800",children:s.unitizedBerths||"Not provided"})]})]})]}),e.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 p-6",children:[e.jsxs("div",{className:"flex items-center mb-6",children:[e.jsx(C,{className:"h-8 w-8 text-seagreen-600"}),e.jsx("h2",{className:"ml-3 text-lg font-semibold text-gray-900",children:"Timeline"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative pl-8 pb-4 border-l-2 border-seagreen-200",children:[e.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-seagreen-500"}),e.jsxs("h3",{className:"text-sm font-medium text-gray-500 flex items-center",children:[e.jsx(c,{className:"h-4 w-4 text-gray-400 mr-2"}),"Created"]}),e.jsx("p",{className:"mt-1 text-gray-800",children:n(s.createdAt)})]}),s.invitationSentAt&&e.jsxs("div",{className:"relative pl-8 pb-4 border-l-2 border-seagreen-200",children:[e.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-seagreen-500"}),e.jsxs("h3",{className:"text-sm font-medium text-gray-500 flex items-center",children:[e.jsx(c,{className:"h-4 w-4 text-gray-400 mr-2"}),"Invitation Sent"]}),e.jsx("p",{className:"mt-1 text-gray-800",children:n(s.invitationSentAt)})]}),s.registeredAt&&e.jsxs("div",{className:"relative pl-8",children:[e.jsx("div",{className:"absolute left-[-8px] top-0 w-4 h-4 rounded-full bg-green-500"}),e.jsxs("h3",{className:"text-sm font-medium text-gray-500 flex items-center",children:[e.jsx(c,{className:"h-4 w-4 text-gray-400 mr-2"}),"Registered"]}),e.jsx("p",{className:"mt-1 text-gray-800",children:n(s.registeredAt)})]})]})]})]}),e.jsx("div",{className:"mt-8",children:e.jsx(v,{title:"Port Documents",icon:e.jsx(R,{className:"h-6 w-6 text-seagreen-600"}),children:e.jsx(I,{documents:s.documents||[],onUpload:()=>{},readOnly:!0})})})]})})]})};export{W as default};
//# sourceMappingURL=PortDetailsView-Dqro_J1Y.js.map
